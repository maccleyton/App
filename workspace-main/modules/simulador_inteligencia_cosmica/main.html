<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Intelig√™ncia C√≥smica</title>
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    
    <style>
        :root {
            --color-primary: #8B5CF6;
            --color-secondary: #6366F1;
            --color-accent: #3B82F6;
            --color-success: #10B981;
            --color-bg-page: #000000;
            --color-bg-surface: #0A0A0A;
            --color-border: #3f3f46;
            --color-text-primary: #E4E4E7;
            --color-text-secondary: #A1A1AA;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: radial-gradient(ellipse at center, #0a0a2a 0%, #000000 100%);
            color: var(--color-text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Animated Starfield */
        .starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 1.5rem;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            padding: 2rem 0;
            border-bottom: 2px solid var(--color-border);
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(99, 102, 241, 0.1) 100%);
            border-radius: 0.75rem;
            backdrop-filter: blur(10px);
        }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #8B5CF6, #6366F1, #3B82F6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient-shift 3s ease infinite;
        }

        @keyframes gradient-shift {
            0%, 100% { filter: hue-rotate(0deg); }
            50% { filter: hue-rotate(20deg); }
        }

        .subtitle {
            color: var(--color-text-secondary);
            font-size: 1.1rem;
        }

        /* Tab Navigation */
        .tab-navigation {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            background: var(--color-bg-surface);
            padding: 0.75rem;
            border-radius: 0.75rem;
            border: 1px solid var(--color-border);
            overflow-x: auto;
            backdrop-filter: blur(10px);
        }

        .tab-button {
            flex: 1;
            min-width: 140px;
            padding: 0.75rem 1rem;
            background: transparent;
            border: 1px solid var(--color-border);
            border-radius: 0.5rem;
            color: var(--color-text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .tab-button:hover {
            background: rgba(139, 92, 246, 0.1);
            border-color: var(--color-primary);
        }

        .tab-button.active {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            border-color: var(--color-primary);
            color: white;
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card {
            background: rgba(10, 10, 10, 0.8);
            border: 1px solid var(--color-border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            backdrop-filter: blur(10px);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--color-border);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
        }

        /* 3D Viewer */
        .viewer-3d {
            width: 100%;
            height: 500px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 0.75rem;
            border: 1px solid var(--color-border);
            margin: 1rem 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.2);
        }

        /* Controls */
        .control-group {
            margin-bottom: 1rem;
        }

        .control-label {
            display: block;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--color-text-secondary);
            margin-bottom: 0.5rem;
        }

        .control-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--color-border);
            border-radius: 0.5rem;
            color: var(--color-text-primary);
            font-size: 0.95rem;
        }

        .control-input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            background: var(--color-border);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: var(--color-primary);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.8);
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.5);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--color-text-primary);
            border: 1px solid var(--color-border);
        }

        .button-group {
            display: flex;
            gap: 0.75rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .stat-item {
            background: rgba(0, 0, 0, 0.5);
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid var(--color-border);
            text-align: center;
            backdrop-filter: blur(5px);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--color-text-secondary);
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--color-primary);
            margin-top: 0.25rem;
        }

        .stat-value.success {
            color: var(--color-success);
        }

        /* Grid Layout */
        .grid-2 {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
        }

        /* Chart */
        .chart-container {
            width: 100%;
            height: 300px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 0.75rem;
            padding: 1rem;
            border: 1px solid var(--color-border);
        }

        /* Console */
        .console {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--color-border);
            border-radius: 0.5rem;
            padding: 1rem;
            height: 150px;
            overflow-y: auto;
            font-family: 'Monaco', monospace;
            font-size: 0.85rem;
            color: var(--color-primary);
            margin-top: 1rem;
        }

        .console-line {
            margin-bottom: 0.5rem;
        }

        .console-line::before {
            content: 'üöÄ ';
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 30px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            overflow: hidden;
            margin: 1rem 0;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary), var(--color-accent));
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Planet Grid */
        .planet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .planet-card {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--color-border);
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .planet-card:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: var(--color-primary);
            transform: translateY(-5px);
        }

        .planet-card.selected {
            background: rgba(139, 92, 246, 0.3);
            border-color: var(--color-primary);
        }

        .planet-icon {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        /* Kardashev Scale */
        .kardashev-bar {
            display: flex;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .kardashev-level {
            flex: 1;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--color-border);
            border-radius: 0.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .kardashev-level.active {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            border-color: var(--color-primary);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--color-bg-surface);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--color-border);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--color-primary);
        }
    </style>
</head>
<body>
    <!-- Starfield Background -->
    <div class="starfield" id="starfield"></div>

    <div class="container">
        <header>
            <h1>üåå SIMULADOR DE INTELIG√äNCIA C√ìSMICA</h1>
            <p class="subtitle">Explora√ß√£o ‚Ä¢ Coloniza√ß√£o ‚Ä¢ Megaestruturas ‚Ä¢ Civiliza√ß√£o Avan√ßada ‚Ä¢ Singularidade</p>
        </header>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-button active" data-tab="exploration">üî≠ Explora√ß√£o</button>
            <button class="tab-button" data-tab="habitability">üåç Habitabilidade</button>
            <button class="tab-button" data-tab="colonization">üèóÔ∏è Coloniza√ß√£o</button>
            <button class="tab-button" data-tab="megastructures">‚öôÔ∏è Megaestruturas</button>
            <button class="tab-button" data-tab="civilization">üëΩ Civiliza√ß√£o</button>
            <button class="tab-button" data-tab="singularity">ü§ñ Singularidade</button>
        </div>

        <!-- TAB 1: Explora√ß√£o Espacial -->
        <div id="exploration" class="tab-content active">
            <div class="grid-2">
                <div class="card">
                    <div class="card-header">
                        <span>üî≠</span>
                        <h3 class="card-title">Explora√ß√£o Gal√°ctica</h3>
                    </div>
                    <div class="viewer-3d" id="exploration-viewer"></div>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Sistemas Explorados</div>
                            <div class="stat-value" id="systems-explored">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Planetas Descobertos</div>
                            <div class="stat-value" id="planets-discovered">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Dist√¢ncia Percorrida</div>
                            <div class="stat-value" id="distance">0 ly</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Velocidade</div>
                            <div class="stat-value" id="speed">0.1c</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üéõÔ∏è</span>
                        <h3 class="card-title">Controles de Explora√ß√£o</h3>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Tecnologia de Propuls√£o:</label>
                        <select class="control-input" id="propulsion-tech">
                            <option value="chemical">Qu√≠mica (0.001c)</option>
                            <option value="nuclear">Nuclear (0.1c)</option>
                            <option value="fusion">Fus√£o (0.3c)</option>
                            <option value="antimatter">Antimat√©ria (0.7c)</option>
                            <option value="warp">Dobra Espacial (>1c)</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Raio de Busca (anos-luz):</label>
                        <input type="range" id="search-radius" min="10" max="1000" value="100" step="10">
                        <span id="radius-value">100 ly</span>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-primary" onclick="startExploration()">üöÄ Iniciar Explora√ß√£o</button>
                        <button class="btn btn-secondary" onclick="scanSystem()">üì° Escanear Sistema</button>
                        <button class="btn btn-secondary" onclick="returnToBase()">üè† Retornar</button>
                    </div>

                    <div class="console" id="exploration-console">
                        <div class="console-line">Sistema de explora√ß√£o pronto</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 2: Habitabilidade -->
        <div id="habitability" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <div class="card-header">
                        <span>üåç</span>
                        <h3 class="card-title">An√°lise de Habitabilidade</h3>
                    </div>
                    <div class="viewer-3d" id="habitability-viewer"></div>
                    
                    <div class="progress-bar">
                        <div class="progress-fill" id="habitability-score" style="width: 0%">
                            0% Habit√°vel
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Temperatura</div>
                            <div class="stat-value" id="temp">15¬∞C</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Atmosfera</div>
                            <div class="stat-value success" id="atmosphere">Respir√°vel</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">√Ågua</div>
                            <div class="stat-value" id="water">70%</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Gravidade</div>
                            <div class="stat-value" id="gravity">1.0g</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üóÇÔ∏è</span>
                        <h3 class="card-title">Planetas Candidatos</h3>
                    </div>

                    <div class="planet-grid">
                        <div class="planet-card selected" onclick="selectPlanet('kepler')">
                            <div class="planet-icon">üåç</div>
                            <div>Kepler-452b</div>
                            <small>95% habit√°vel</small>
                        </div>
                        <div class="planet-card" onclick="selectPlanet('proxima')">
                            <div class="planet-icon">üåé</div>
                            <div>Proxima b</div>
                            <small>85% habit√°vel</small>
                        </div>
                        <div class="planet-card" onclick="selectPlanet('trappist')">
                            <div class="planet-icon">üåè</div>
                            <div>TRAPPIST-1e</div>
                            <small>90% habit√°vel</small>
                        </div>
                        <div class="planet-card" onclick="selectPlanet('ocean')">
                            <div class="planet-icon">üåä</div>
                            <div>Mundo Oce√¢nico</div>
                            <small>75% habit√°vel</small>
                        </div>
                        <div class="planet-card" onclick="selectPlanet('desert')">
                            <div class="planet-icon">üèúÔ∏è</div>
                            <div>Mundo √Årido</div>
                            <small>60% habit√°vel</small>
                        </div>
                        <div class="planet-card" onclick="selectPlanet('ice')">
                            <div class="planet-icon">‚ùÑÔ∏è</div>
                            <div>Mundo Gelado</div>
                            <small>40% habit√°vel</small>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-primary" onclick="analyzePlanet()">üî¨ An√°lise Detalhada</button>
                        <button class="btn btn-secondary" onclick="detectBiosignatures()">üß¨ Bioassinaturas</button>
                    </div>

                    <div class="console" id="habitability-console">
                        <div class="console-line">6 planetas candidatos identificados</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 3: Coloniza√ß√£o -->
        <div id="colonization" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <div class="card-header">
                        <span>üèóÔ∏è</span>
                        <h3 class="card-title">Col√¥nia Planet√°ria</h3>
                    </div>
                    <div class="viewer-3d" id="colonization-viewer"></div>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Popula√ß√£o</div>
                            <div class="stat-value" id="population">1,000</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Recursos</div>
                            <div class="stat-value" id="resources">100k ton</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Infraestrutura</div>
                            <div class="stat-value" id="infrastructure">25%</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Autossufici√™ncia</div>
                            <div class="stat-value" id="self-sufficiency">15%</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üéõÔ∏è</span>
                        <h3 class="card-title">Desenvolvimento</h3>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Fase de Coloniza√ß√£o:</label>
                        <select class="control-input" id="colony-phase">
                            <option value="outpost">Posto Avan√ßado (100 colonos)</option>
                            <option value="settlement">Assentamento (1k colonos)</option>
                            <option value="city">Cidade (100k colonos)</option>
                            <option value="metropolis">Metr√≥pole (1M+ colonos)</option>
                            <option value="ecumenopolis">Ecumen√≥pole (planeta-cidade)</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Taxa de Crescimento:</label>
                        <input type="range" id="growth-rate" min="1" max="20" value="5" step="1">
                        <span id="growth-value">5%/ano</span>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-primary" onclick="establishColony()">üèóÔ∏è Estabelecer Col√¥nia</button>
                        <button class="btn btn-primary" onclick="expandColony()">üìà Expandir</button>
                        <button class="btn btn-secondary" onclick="terraformPlanet()">üå± Terraformar</button>
                    </div>

                    <div class="console" id="colonization-console">
                        <div class="console-line">Sistema de coloniza√ß√£o pronto</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 4: Megaestruturas -->
        <div id="megastructures" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <div class="card-header">
                        <span>‚öôÔ∏è</span>
                        <h3 class="card-title">Megaestruturas Estelares</h3>
                    </div>
                    <div class="viewer-3d" id="megastructures-viewer"></div>
                    
                    <div class="progress-bar">
                        <div class="progress-fill" id="construction-progress" style="width: 0%">
                            0% Constru√≠do
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Energia Gerada</div>
                            <div class="stat-value" id="energy">0 PW</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Material Usado</div>
                            <div class="stat-value" id="material">0 M‚òâ</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Tempo Restante</div>
                            <div class="stat-value" id="time-remaining">100 anos</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Efici√™ncia</div>
                            <div class="stat-value" id="efficiency">0%</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üéõÔ∏è</span>
                        <h3 class="card-title">Projetos Dispon√≠veis</h3>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Tipo de Megaestrutura:</label>
                        <select class="control-input" id="megastructure-type">
                            <option value="dyson-swarm">üõ∞Ô∏è Enxame de Dyson</option>
                            <option value="dyson-shell">‚ö´ Esfera de Dyson</option>
                            <option value="ringworld">üí´ Anel Orbital (Halo)</option>
                            <option value="matrioshka">üîÆ C√©rebro Matrioshka</option>
                            <option value="stellar-engine">üöÄ Motor Estelar</option>
                            <option value="starlifting">‚≠ê Minera√ß√£o Estelar</option>
                        </select>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-primary" onclick="buildMegastructure()">‚öôÔ∏è Iniciar Constru√ß√£o</button>
                        <button class="btn btn-secondary" onclick="accelerateConstruction()">‚ö° Acelerar</button>
                        <button class="btn btn-secondary" onclick="activateMegastructure()">‚ú® Ativar</button>
                    </div>

                    <div class="console" id="megastructures-console">
                        <div class="console-line">Projetos de megaestrutura carregados</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 5: Civiliza√ß√£o -->
        <div id="civilization" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <div class="card-header">
                        <span>üëΩ</span>
                        <h3 class="card-title">Escala de Kardashev</h3>
                    </div>
                    <div class="viewer-3d" id="civilization-viewer"></div>
                    
                    <div class="kardashev-bar">
                        <div class="kardashev-level active">
                            <strong>Tipo I</strong>
                            <small>Planet√°ria</small>
                        </div>
                        <div class="kardashev-level">
                            <strong>Tipo II</strong>
                            <small>Estelar</small>
                        </div>
                        <div class="kardashev-level">
                            <strong>Tipo III</strong>
                            <small>Gal√°ctica</small>
                        </div>
                        <div class="kardashev-level">
                            <strong>Tipo IV</strong>
                            <small>Universal</small>
                        </div>
                    </div>

                    <div class="chart-container">
                        <canvas id="kardashev-chart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üéõÔ∏è</span>
                        <h3 class="card-title">Desenvolvimento</h3>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Consumo Energ√©tico</div>
                            <div class="stat-value" id="energy-consumption">10¬≤‚Å∞ W</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Planetas Colonizados</div>
                            <div class="stat-value" id="colonies">12</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Popula√ß√£o Total</div>
                            <div class="stat-value" id="total-pop">50B</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">N√≠vel Tecnol√≥gico</div>
                            <div class="stat-value" id="tech-level">I.85</div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-primary" onclick="advanceCivilization()">üìà Avan√ßar Civiliza√ß√£o</button>
                        <button class="btn btn-secondary" onclick="unlockTechnology()">üîì Nova Tecnologia</button>
                    </div>

                    <div class="console" id="civilization-console">
                        <div class="console-line">Civiliza√ß√£o Tipo I detectada</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 6: Singularidade -->
        <div id="singularity" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <div class="card-header">
                        <span>ü§ñ</span>
                        <h3 class="card-title">Intelig√™ncia Artificial Superinteligente</h3>
                    </div>
                    <div class="viewer-3d" id="singularity-viewer"></div>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">QI da IA</div>
                            <div class="stat-value" id="ai-iq">10,000+</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Processamento</div>
                            <div class="stat-value" id="processing">10¬≤‚Å∏ FLOPS</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Autoconsci√™ncia</div>
                            <div class="stat-value success" id="consciousness">Ativa</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Alinhamento</div>
                            <div class="stat-value" id="alignment">Amig√°vel</div>
                        </div>
                    </stats-grid>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üéõÔ∏è</span>
                        <h3 class="card-title">Controles da Singularidade</h3>
                    </div>

                    <div class="control-group">
                        <label class="control-label">N√≠vel de IA:</label>
                        <select class="control-input" id="ai-level">
                            <option value="narrow">IA Estreita (ANI)</option>
                            <option value="general">IA Geral (AGI)</option>
                            <option value="super">Superintelig√™ncia (ASI)</option>
                            <option value="transcendent">IA Transcendente</option>
                        </select>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-primary" onclick="initiateSingularity()">‚ö° Iniciar Singularidade</button>
                        <button class="btn btn-primary" onclick="uploadConsciousness()">üß† Upload de Consci√™ncia</button>
                        <button class="btn btn-secondary" onclick="simulateUniverse()">üåå Simular Universo</button>
                    </div>

                    <div class="console" id="singularity-console">
                        <div class="console-line">Sistema de IA avan√ßada pronto</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== GLOBAL STATE ====================
        const state = {
            currentTab: 'exploration',
            exploration: {
                systemsExplored: 0,
                planetsDiscovered: 0,
                distance: 0,
                running: false
            },
            habitability: {
                currentPlanet: 'kepler',
                score: 95
            },
            colonization: {
                population: 1000,
                phase: 'outpost'
            },
            megastructures: {
                type: 'dyson-swarm',
                progress: 0,
                active: false
            },
            civilization: {
                kardashev: 1.0,
                energyConsumption: 1e20
            },
            singularity: {
                initiated: false,
                aiLevel: 'narrow'
            }
        };

        // Three.js scenes
        const scenes = {};
        const cameras = {};
        const renderers = {};
        const controls = {};

        // Chart
        let kardashevChart;

        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', () => {
            createStarfield();
            initializeTabs();
            initializeControls();
            initialize3DScenes();
            initializeChart();
            animate();
        });

        function createStarfield() {
            const starfield = document.getElementById('starfield');
            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starfield.appendChild(star);
            }
        }

        function initializeTabs() {
            const tabs = document.querySelectorAll('.tab-button');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabName = tab.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });
        }

        function switchTab(tabName) {
            state.currentTab = tabName;

            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-tab') === tabName) {
                    btn.classList.add('active');
                }
            });

            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
        }

        function initializeControls() {
            document.getElementById('search-radius')?.addEventListener('input', (e) => {
                document.getElementById('radius-value').textContent = `${e.target.value} ly`;
            });

            document.getElementById('growth-rate')?.addEventListener('input', (e) => {
                document.getElementById('growth-value').textContent = `${e.target.value}%/ano`;
            });
        }

        // ==================== 3D SCENES ====================
        function initialize3DScenes() {
            const viewerIds = ['exploration', 'habitability', 'colonization', 'megastructures', 'civilization', 'singularity'];
            
            viewerIds.forEach(id => {
                const container = document.getElementById(`${id}-viewer`);
                if (!container) return;

                const scene = new THREE.Scene();
                scene.background = new THREE.Color(0x000000);

                const camera = new THREE.PerspectiveCamera(50, container.clientWidth / container.clientHeight, 0.1, 1000);
                camera.position.set(0, 10, 30);

                const renderer = new THREE.WebGLRenderer({ antialias: true });
                renderer.setSize(container.clientWidth, container.clientHeight);
                container.appendChild(renderer.domElement);

                const ambientLight = new THREE.AmbientLight(0x404040, 2);
                scene.add(ambientLight);

                const pointLight = new THREE.PointLight(0x8B5CF6, 1, 100);
                pointLight.position.set(10, 10, 10);
                scene.add(pointLight);

                // Add specific objects based on scene
                if (id === 'exploration') {
                    // Add stars
                    const starGeometry = new THREE.SphereGeometry(0.5, 8, 8);
                    for (let i = 0; i < 50; i++) {
                        const starMaterial = new THREE.MeshBasicMaterial({ 
                            color: Math.random() * 0xFFFFFF 
                        });
                        const star = new THREE.Mesh(starGeometry, starMaterial);
                        star.position.set(
                            (Math.random() - 0.5) * 100,
                            (Math.random() - 0.5) * 100,
                            (Math.random() - 0.5) * 100
                        );
                        scene.add(star);
                    }
                } else if (id === 'habitability' || id === 'colonization') {
                    // Add planet
                    const planetGeometry = new THREE.SphereGeometry(5, 32, 32);
                    const planetMaterial = new THREE.MeshPhongMaterial({ color: 0x2F6A9F });
                    const planet = new THREE.Mesh(planetGeometry, planetMaterial);
                    scene.add(planet);

                    // Add atmosphere
                    const atmosphereGeometry = new THREE.SphereGeometry(5.5, 32, 32);
                    const atmosphereMaterial = new THREE.MeshBasicMaterial({
                        color: 0x6366F1,
                        transparent: true,
                        opacity: 0.2
                    });
                    const atmosphere = new THREE.Mesh(atmosphereGeometry, atmosphereMaterial);
                    scene.add(atmosphere);
                } else if (id === 'megastructures') {
                    // Add Dyson sphere framework
                    const sun = new THREE.Mesh(
                        new THREE.SphereGeometry(3, 32, 32),
                        new THREE.MeshBasicMaterial({ color: 0xFDB813, emissive: 0xFDB813 })
                    );
                    scene.add(sun);

                    // Add ring structure
                    const ring = new THREE.Mesh(
                        new THREE.TorusGeometry(10, 0.2, 16, 100),
                        new THREE.MeshPhongMaterial({ color: 0x8B5CF6 })
                    );
                    ring.rotation.x = Math.PI / 2;
                    scene.add(ring);
                }

                scenes[id] = scene;
                cameras[id] = camera;
                renderers[id] = renderer;

                if (typeof THREE.OrbitControls !== 'undefined') {
                    controls[id] = new THREE.OrbitControls(camera, renderer.domElement);
                }
            });
        }

        // ==================== CHART ====================
        function initializeChart() {
            const ctx = document.getElementById('kardashev-chart');
            if (!ctx) return;

            kardashevChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Tipo 0', 'Tipo I', 'Tipo II', 'Tipo III', 'Tipo IV'],
                    datasets: [{
                        label: 'Consumo Energ√©tico (W)',
                        data: [1e13, 1e17, 1e26, 1e37, 1e49],
                        borderColor: '#8B5CF6',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        borderWidth: 2,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#E4E4E7' }
                        }
                    },
                    scales: {
                        x: {
                            grid: { color: '#3f3f46' },
                            ticks: { color: '#A1A1AA' }
                        },
                        y: {
                            type: 'logarithmic',
                            grid: { color: '#3f3f46' },
                            ticks: { color: '#A1A1AA' }
                        }
                    }
                }
            });
        }

        // ==================== ANIMATION ====================
        function animate() {
            requestAnimationFrame(animate);

            Object.keys(scenes).forEach(key => {
                if (scenes[key] && cameras[key] && renderers[key]) {
                    // Rotate planets and structures
                    scenes[key].children.forEach(child => {
                        if (child.geometry && child.geometry.type === 'SphereGeometry') {
                            child.rotation.y += 0.001;
                        }
                    });

                    if (controls[key]) controls[key].update();
                    renderers[key].render(scenes[key], cameras[key]);
                }
            });
        }

        // ==================== EXPLORATION FUNCTIONS ====================
        function startExploration() {
            state.exploration.running = true;
            addConsoleMessage('exploration', 'üöÄ Nave de explora√ß√£o lan√ßada');

            const interval = setInterval(() => {
                if (!state.exploration.running) {
                    clearInterval(interval);
                    return;
                }

                state.exploration.distance += 10;
                document.getElementById('distance').textContent = `${state.exploration.distance} ly`;

                if (Math.random() < 0.3) {
                    state.exploration.systemsExplored++;
                    document.getElementById('systems-explored').textContent = state.exploration.systemsExplored;
                    addConsoleMessage('exploration', `‚≠ê Novo sistema estelar descoberto (#${state.exploration.systemsExplored})`);
                }

                if (Math.random() < 0.2) {
                    state.exploration.planetsDiscovered++;
                    document.getElementById('planets-discovered').textContent = state.exploration.planetsDiscovered;
                    addConsoleMessage('exploration', `ü™ê Planeta descoberto!`);
                }
            }, 2000);
        }

        function scanSystem() {
            addConsoleMessage('exploration', 'üì° Escaneando sistema...');
            setTimeout(() => {
                addConsoleMessage('exploration', '‚úÖ Sistema catalogado - 4 planetas, 2 potencialmente habit√°veis');
            }, 1500);
        }

        function returnToBase() {
            state.exploration.running = false;
            addConsoleMessage('exploration', 'üè† Retornando √† base');
        }

        // ==================== HABITABILITY FUNCTIONS ====================
        function selectPlanet(planetType) {
            state.habitability.currentPlanet = planetType;
            
            const habitabilityScores = {
                kepler: 95, proxima: 85, trappist: 90,
                ocean: 75, desert: 60, ice: 40
            };

            const score = habitabilityScores[planetType] || 50;
            state.habitability.score = score;

            const progressBar = document.getElementById('habitability-score');
            progressBar.style.width = `${score}%`;
            progressBar.textContent = `${score}% Habit√°vel`;

            document.querySelectorAll('.planet-card').forEach(card => card.classList.remove('selected'));
            event.target.closest('.planet-card')?.classList.add('selected');

            addConsoleMessage('habitability', `üåç Planeta ${planetType} selecionado para an√°lise`);
        }

        function analyzePlanet() {
            addConsoleMessage('habitability', 'üî¨ An√°lise detalhada iniciada...');
            setTimeout(() => {
                addConsoleMessage('habitability', '‚úÖ Planeta apresenta condi√ß√µes favor√°veis √† vida');
                addConsoleMessage('habitability', `√çndice de Similaridade com Terra: ${state.habitability.score}%`);
            }, 2000);
        }

        function detectBiosignatures() {
            addConsoleMessage('habitability', 'üß¨ Procurando bioassinaturas na atmosfera...');
            setTimeout(() => {
                if (state.habitability.score > 80) {
                    addConsoleMessage('habitability', 'üéâ BIOASSINATURAS DETECTADAS! Poss√≠vel vida presente!');
                } else {
                    addConsoleMessage('habitability', 'Nenhuma bioassinatura detectada');
                }
            }, 2000);
        }

        // ==================== COLONIZATION FUNCTIONS ====================
        function establishColony() {
            addConsoleMessage('colonization', 'üèóÔ∏è Estabelecendo posto avan√ßado...');
            setTimeout(() => {
                state.colonization.population = 1000;
                document.getElementById('population').textContent = '1,000';
                addConsoleMessage('colonization', '‚úÖ Col√¥nia estabelecida com 1,000 colonos');
            }, 1500);
        }

        function expandColony() {
            state.colonization.population = Math.floor(state.colonization.population * 1.5);
            document.getElementById('population').textContent = state.colonization.population.toLocaleString();
            addConsoleMessage('colonization', `üìà Popula√ß√£o expandida para ${state.colonization.population.toLocaleString()}`);
        }

        function terraformPlanet() {
            addConsoleMessage('colonization', 'üå± Processo de terraforma√ß√£o iniciado...');
            addConsoleMessage('colonization', 'Tempo estimado: 200 anos');
        }

        // ==================== MEGASTRUCTURE FUNCTIONS ====================
        function buildMegastructure() {
            const type = document.getElementById('megastructure-type').value;
            addConsoleMessage('megastructures', `‚öôÔ∏è Constru√ß√£o de ${type} iniciada`);

            let progress = 0;
            const interval = setInterval(() => {
                progress = Math.min(100, progress + 5);
                
                const progressBar = document.getElementById('construction-progress');
                progressBar.style.width = `${progress}%`;
                progressBar.textContent = `${progress}% Constru√≠do`;

                if (progress >= 100) {
                    clearInterval(interval);
                    addConsoleMessage('megastructures', '‚úÖ Megaestrutura conclu√≠da!');
                }
            }, 1000);
        }

        function accelerateConstruction() {
            addConsoleMessage('megastructures', '‚ö° Constru√ß√£o acelerada - utilizando 1000 naves construtoras');
        }

        function activateMegastructure() {
            addConsoleMessage('megastructures', '‚ú® Megaestrutura ativada!');
            document.getElementById('energy').textContent = '1.5√ó10¬≤‚Å∂ W';
            addConsoleMessage('megastructures', 'Energia equivalente a 100% da estrela capturada');
        }

        // ==================== CIVILIZATION FUNCTIONS ====================
        function advanceCivilization() {
            state.civilization.kardashev = Math.min(4.0, state.civilization.kardashev + 0.1);
            document.getElementById('tech-level').textContent = state.civilization.kardashev.toFixed(2);
            
            addConsoleMessage('civilization', `üìà Civiliza√ß√£o avan√ßada para n√≠vel ${state.civilization.kardashev.toFixed(2)}`);

            // Update Kardashev bar
            const levels = document.querySelectorAll('.kardashev-level');
            levels.forEach((level, index) => {
                if (state.civilization.kardashev >= index + 1) {
                    level.classList.add('active');
                } else {
                    level.classList.remove('active');
                }
            });
        }

        function unlockTechnology() {
            const techs = ['Fus√£o Nuclear', 'Dobra Espacial', 'Manipula√ß√£o da Mat√©ria', 'Controle Gravitacional', 'Viagem no Tempo'];
            const tech = techs[Math.floor(Math.random() * techs.length)];
            addConsoleMessage('civilization', `üîì Nova tecnologia desbloqueada: ${tech}`);
        }

        // ==================== SINGULARITY FUNCTIONS ====================
        function initiateSingularity() {
            addConsoleMessage('singularity', '‚ö° SINGULARIDADE TECNOL√ìGICA INICIADA');
            addConsoleMessage('singularity', 'IA aprimorando-se recursivamente...');
            
            setTimeout(() => {
                addConsoleMessage('singularity', 'ü§ñ Superintelig√™ncia alcan√ßada');
                addConsoleMessage('singularity', 'QI da IA: > 1,000,000');
                document.getElementById('ai-iq').textContent = '1M+';
            }, 3000);
        }

        function uploadConsciousness() {
            addConsoleMessage('singularity', 'üß† Upload de consci√™ncia iniciado...');
            setTimeout(() => {
                addConsoleMessage('singularity', '‚úÖ Consci√™ncia digitalizada com sucesso');
                addConsoleMessage('singularity', 'Voc√™ agora existe como informa√ß√£o pura');
            }, 2000);
        }

        function simulateUniverse() {
            addConsoleMessage('singularity', 'üåå Simulando universo virtual...');
            setTimeout(() => {
                addConsoleMessage('singularity', '‚úÖ Universo simulado criado');
                addConsoleMessage('singularity', '10¬≤¬≥ part√≠culas, 10¬≤‚Å¥ planetas, 10¬π¬π gal√°xias');
            }, 2500);
        }

        // ==================== CONSOLE ====================
        function addConsoleMessage(module, message) {
            const consoleId = `${module}-console`;
            const consoleElement = document.getElementById(consoleId);
            if (!consoleElement) return;

            const line = document.createElement('div');
            line.className = 'console-line';
            line.textContent = message;
            
            consoleElement.appendChild(line);
            consoleElement.scrollTop = consoleElement.scrollHeight;

            while (consoleElement.children.length > 10) {
                consoleElement.removeChild(consoleElement.firstChild);
            }
        }
    </script>
</body>
</html>
