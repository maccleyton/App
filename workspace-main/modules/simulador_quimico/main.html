<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laborat√≥rio Virtual de Qu√≠mica</title>
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    
    <style>
        :root {
            --color-primary: #00BF93;
            --color-secondary: #06B6D4;
            --color-bg-page: #0A0A0A;
            --color-bg-surface: #141414;
            --color-border: #3f3f46;
            --color-text-primary: #E4E4E7;
            --color-text-secondary: #A1A1AA;
            
            /* Element colors */
            --color-alkali: #FF6B6B;
            --color-alkaline: #FFA726;
            --color-transition: #42A5F5;
            --color-post-transition: #66BB6A;
            --color-metalloid: #26C6DA;
            --color-nonmetal: #7E57C2;
            --color-halogen: #EC407A;
            --color-noble: #AB47BC;
            --color-lanthanide: #8D6E63;
            --color-actinide: #78909C;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, var(--color-bg-page) 0%, #1a1a1a 100%);
            color: var(--color-text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 1.5rem;
        }

        header {
            text-align: center;
            padding: 1.5rem 0;
            border-bottom: 2px solid var(--color-border);
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, rgba(0, 191, 147, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%);
            border-radius: 0.75rem;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: var(--color-text-secondary);
            font-size: 1.1rem;
        }

        /* Tab Navigation */
        .tab-navigation {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            background: var(--color-bg-surface);
            padding: 0.75rem;
            border-radius: 0.75rem;
            border: 1px solid var(--color-border);
        }

        .tab-button {
            flex: 1;
            padding: 1rem 1.5rem;
            background: transparent;
            border: 1px solid var(--color-border);
            border-radius: 0.5rem;
            color: var(--color-text-secondary);
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-button:hover {
            background: rgba(22, 22, 22, 0.5);
            border-color: var(--color-primary);
            color: var(--color-text-primary);
        }

        .tab-button.active {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            border-color: var(--color-primary);
            color: white;
            box-shadow: 0 0 20px rgba(0, 191, 147, 0.3);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card {
            background: var(--color-bg-surface);
            border: 1px solid var(--color-border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--color-border);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
        }

        /* Periodic Table */
        .periodic-table-wrapper {
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 0.75rem;
        }

        .periodic-table {
            display: grid;
            grid-template-columns: repeat(18, 1fr);
            gap: 0.25rem;
            margin-bottom: 1rem;
        }

        .lanthanides-actinides {
            display: grid;
            grid-template-columns: repeat(15, 1fr);
            gap: 0.25rem;
            margin-top: 1rem;
        }

        .series-label {
            grid-column: 1 / -1;
            text-align: center;
            font-size: 0.85rem;
            color: var(--color-text-secondary);
            padding: 0.5rem;
            margin-top: 0.5rem;
        }

        .element {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--color-border);
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 0.25rem;
            position: relative;
        }

        .element:hover {
            transform: scale(1.1);
            z-index: 10;
            box-shadow: 0 0 20px rgba(0, 191, 147, 0.5);
        }

        .element-number {
            font-size: 0.6rem;
            color: var(--color-text-secondary);
        }

        .element-symbol {
            font-size: 1rem;
            font-weight: 700;
            margin: 0.125rem 0;
        }

        .element-name {
            font-size: 0.5rem;
            color: var(--color-text-secondary);
            text-align: center;
        }

        .element-mass {
            font-size: 0.5rem;
            color: var(--color-text-secondary);
        }

        /* Element categories */
        .alkali-metal { background: var(--color-alkali); }
        .alkaline-earth { background: var(--color-alkaline); }
        .transition-metal { background: var(--color-transition); }
        .post-transition { background: var(--color-post-transition); }
        .metalloid { background: var(--color-metalloid); }
        .nonmetal { background: var(--color-nonmetal); }
        .halogen { background: var(--color-halogen); }
        .noble-gas { background: var(--color-noble); }
        .lanthanide { background: var(--color-lanthanide); }
        .actinide { background: var(--color-actinide); }

        .element.selected {
            box-shadow: 0 0 30px rgba(0, 191, 147, 0.8);
            border-color: var(--color-primary);
            transform: scale(1.15);
        }

        /* Placeholder for lanthanides/actinides */
        .series-placeholder {
            background: rgba(141, 110, 99, 0.2);
            border: 1px dashed var(--color-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: var(--color-text-secondary);
        }

        /* Element Info Panel */
        .element-info {
            background: rgba(0, 0, 0, 0.3);
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 1px solid var(--color-border);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        .info-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid var(--color-border);
        }

        .info-label {
            font-size: 0.85rem;
            color: var(--color-text-secondary);
            margin-bottom: 0.25rem;
        }

        .info-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--color-primary);
        }

        /* Reaction Simulator */
        .reaction-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .control-group {
            margin-bottom: 1rem;
        }

        .control-label {
            display: block;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--color-text-secondary);
            margin-bottom: 0.5rem;
        }

        .control-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--color-border);
            border-radius: 0.5rem;
            color: var(--color-text-primary);
            font-size: 0.95rem;
        }

        .control-input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(0, 191, 147, 0.1);
        }

        select.control-input {
            cursor: pointer;
        }

        /* Reaction Display */
        .reaction-display {
            background: rgba(0, 0, 0, 0.3);
            padding: 2rem;
            border-radius: 0.75rem;
            border: 2px solid var(--color-border);
            text-align: center;
            font-size: 1.5rem;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
        }

        .reaction-arrow {
            color: var(--color-secondary);
            font-size: 2rem;
            margin: 0 1rem;
        }

        .compound {
            color: var(--color-primary);
            font-weight: 600;
        }

        /* 3D Viewer */
        .viewer-3d {
            width: 100%;
            height: 400px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 0.75rem;
            border: 1px solid var(--color-border);
            margin: 1rem 0;
            position: relative;
            overflow: hidden;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(0, 191, 147, 0.3);
        }

        .btn-secondary {
            background: var(--color-bg-surface);
            color: var(--color-text-primary);
            border: 1px solid var(--color-border);
        }

        .button-group {
            display: flex;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        /* Reaction Info */
        .reaction-info {
            background: rgba(6, 182, 212, 0.1);
            border-left: 3px solid var(--color-secondary);
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
        }

        .reaction-info h4 {
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }

        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .stat-item {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid var(--color-border);
            text-align: center;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--color-text-secondary);
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--color-primary);
            margin-top: 0.25rem;
        }

        /* Console */
        .console {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--color-border);
            border-radius: 0.5rem;
            padding: 1rem;
            height: 150px;
            overflow-y: auto;
            font-family: 'Monaco', monospace;
            font-size: 0.85rem;
            color: #10B981;
            margin-top: 1rem;
        }

        .console-line {
            margin-bottom: 0.5rem;
        }

        .console-line::before {
            content: '> ';
            color: var(--color-primary);
        }

        /* Legend */
        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 0.5rem;
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 0.5rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 0.25rem;
            border: 1px solid var(--color-border);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .periodic-table, .lanthanides-actinides {
                gap: 0.15rem;
            }
            
            .element-name {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .periodic-table-wrapper {
                overflow-x: auto;
            }
            
            h1 {
                font-size: 2rem;
            }

            .reaction-display {
                font-size: 1.2rem;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--color-bg-surface);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--color-border);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--color-primary);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üß™ LABORAT√ìRIO VIRTUAL DE QU√çMICA</h1>
            <p class="subtitle">Explore a tabela peri√≥dica completa (118 elementos) e simule rea√ß√µes qu√≠micas com visualiza√ß√£o 3D</p>
        </header>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-button active" data-tab="periodic-table">‚öõÔ∏è Tabela Peri√≥dica</button>
            <button class="tab-button" data-tab="reactions">üß™ Simulador de Rea√ß√µes</button>
        </div>

        <!-- TAB 1: Tabela Peri√≥dica -->
        <div id="periodic-table" class="tab-content active">
            <div class="card">
                <div class="card-header">
                    <span>‚öõÔ∏è</span>
                    <h3 class="card-title">Tabela Peri√≥dica dos Elementos (118 Elementos Completos)</h3>
                </div>

                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color alkali-metal"></div>
                        <span>Metais Alcalinos</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color alkaline-earth"></div>
                        <span>Alcalino-Terrosos</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color transition-metal"></div>
                        <span>Metais de Transi√ß√£o</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color post-transition"></div>
                        <span>P√≥s-Transi√ß√£o</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color metalloid"></div>
                        <span>Metaloides</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color nonmetal"></div>
                        <span>N√£o-Metais</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color halogen"></div>
                        <span>Halog√™nios</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color noble-gas"></div>
                        <span>Gases Nobres</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color lanthanide"></div>
                        <span>Lantan√≠deos</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color actinide"></div>
                        <span>Actin√≠deos</span>
                    </div>
                </div>

                <div class="periodic-table-wrapper">
                    <div class="periodic-table" id="periodic-table-grid"></div>
                    
                    <div class="series-label">‚òÖ Lantan√≠deos (Terras Raras)</div>
                    <div class="lanthanides-actinides" id="lanthanides-grid"></div>
                    
                    <div class="series-label">‚òÖ Actin√≠deos (Elementos Radioativos)</div>
                    <div class="lanthanides-actinides" id="actinides-grid"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <span>üìä</span>
                    <h3 class="card-title">Informa√ß√µes do Elemento</h3>
                </div>

                <div class="element-info">
                    <div style="text-align: center; margin-bottom: 1.5rem;">
                        <h2 id="element-name" style="color: var(--color-primary);">Selecione um elemento</h2>
                        <p id="element-symbol" style="font-size: 3rem; font-weight: 700; margin: 0.5rem 0;">-</p>
                    </div>

                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-label">N√∫mero At√¥mico</div>
                            <div class="info-value" id="atomic-number">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Massa At√¥mica</div>
                            <div class="info-value" id="atomic-mass">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Estado F√≠sico</div>
                            <div class="info-value" id="state">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Categoria</div>
                            <div class="info-value" id="category">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Densidade</div>
                            <div class="info-value" id="density">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Ponto de Fus√£o</div>
                            <div class="info-value" id="melting-point">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Ponto de Ebuli√ß√£o</div>
                            <div class="info-value" id="boiling-point">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Eletronegatividade</div>
                            <div class="info-value" id="electronegativity">-</div>
                        </div>
                    </div>

                    <div class="info-item" style="margin-top: 1rem;">
                        <div class="info-label">Configura√ß√£o Eletr√¥nica</div>
                        <div class="info-value" id="electron-config" style="font-size: 0.95rem;">-</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 2: Simulador de Rea√ß√µes (mesmo c√≥digo anterior) -->
        <div id="reactions" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <span>üß™</span>
                    <h3 class="card-title">Simulador de Rea√ß√µes Qu√≠micas</h3>
                </div>

                <div class="reaction-controls">
                    <div class="control-group">
                        <label class="control-label">Reagente 1</label>
                        <select class="control-input" id="reagent1" onchange="updateReaction()">
                            <optgroup label="√Åcidos">
                                <option value="HCl">HCl (√Åcido Clor√≠drico)</option>
                                <option value="H2SO4">H‚ÇÇSO‚ÇÑ (√Åcido Sulf√∫rico)</option>
                                <option value="HNO3">HNO‚ÇÉ (√Åcido N√≠trico)</option>
                                <option value="CH3COOH">CH‚ÇÉCOOH (√Åcido Ac√©tico)</option>
                            </optgroup>
                            <optgroup label="Bases">
                                <option value="NaOH">NaOH (Hidr√≥xido de S√≥dio)</option>
                                <option value="KOH">KOH (Hidr√≥xido de Pot√°ssio)</option>
                                <option value="Ca(OH)2">Ca(OH)‚ÇÇ (Hidr√≥xido de C√°lcio)</option>
                                <option value="NH3">NH‚ÇÉ (Am√¥nia)</option>
                            </optgroup>
                            <optgroup label="Sais">
                                <option value="NaCl">NaCl (Cloreto de S√≥dio)</option>
                                <option value="CaCO3">CaCO‚ÇÉ (Carbonato de C√°lcio)</option>
                                <option value="AgNO3">AgNO‚ÇÉ (Nitrato de Prata)</option>
                            </optgroup>
                            <optgroup label="Metais">
                                <option value="Zn">Zn (Zinco)</option>
                                <option value="Fe">Fe (Ferro)</option>
                                <option value="Mg">Mg (Magn√©sio)</option>
                                <option value="Cu">Cu (Cobre)</option>
                            </optgroup>
                            <optgroup label="Outros">
                                <option value="O2">O‚ÇÇ (Oxig√™nio)</option>
                                <option value="H2">H‚ÇÇ (Hidrog√™nio)</option>
                                <option value="CH4">CH‚ÇÑ (Metano)</option>
                                <option value="C2H5OH">C‚ÇÇH‚ÇÖOH (Etanol)</option>
                            </optgroup>
                        </select>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Reagente 2</label>
                        <select class="control-input" id="reagent2" onchange="updateReaction()">
                            <optgroup label="√Åcidos">
                                <option value="HCl">HCl (√Åcido Clor√≠drico)</option>
                                <option value="H2SO4">H‚ÇÇSO‚ÇÑ (√Åcido Sulf√∫rico)</option>
                                <option value="HNO3">HNO‚ÇÉ (√Åcido N√≠trico)</option>
                            </optgroup>
                            <optgroup label="Bases">
                                <option value="NaOH" selected>NaOH (Hidr√≥xido de S√≥dio)</option>
                                <option value="KOH">KOH (Hidr√≥xido de Pot√°ssio)</option>
                                <option value="Ca(OH)2">Ca(OH)‚ÇÇ (Hidr√≥xido de C√°lcio)</option>
                            </optgroup>
                            <optgroup label="Sais">
                                <option value="NaCl">NaCl (Cloreto de S√≥dio)</option>
                                <option value="CaCO3">CaCO‚ÇÉ (Carbonato de C√°lcio)</option>
                            </optgroup>
                            <optgroup label="Metais">
                                <option value="Zn">Zn (Zinco)</option>
                                <option value="Fe">Fe (Ferro)</option>
                            </optgroup>
                            <optgroup label="Outros">
                                <option value="O2">O‚ÇÇ (Oxig√™nio)</option>
                                <option value="H2">H‚ÇÇ (Hidrog√™nio)</option>
                            </optgroup>
                        </select>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Temperatura (¬∞C)</label>
                        <input type="number" class="control-input" id="temperature" value="25" min="-50" max="500">
                    </div>

                    <div class="control-group">
                        <label class="control-label">Catalisador</label>
                        <select class="control-input" id="catalyst">
                            <option value="none">Nenhum</option>
                            <option value="Pt">Platina (Pt)</option>
                            <option value="Ni">N√≠quel (Ni)</option>
                            <option value="Fe">Ferro (Fe)</option>
                            <option value="H2SO4">H‚ÇÇSO‚ÇÑ</option>
                        </select>
                    </div>
                </div>

                <div class="reaction-display" id="reaction-equation">
                    <span class="compound">HCl</span>
                    <span class="reaction-arrow">+</span>
                    <span class="compound">NaOH</span>
                    <span class="reaction-arrow">‚Üí</span>
                    <span class="compound">NaCl</span>
                    <span class="reaction-arrow">+</span>
                    <span class="compound">H‚ÇÇO</span>
                </div>

                <div class="viewer-3d" id="reaction-viewer"></div>

                <div class="reaction-info" id="reaction-info">
                    <h4>Neutraliza√ß√£o √Åcido-Base</h4>
                    <p><strong>Tipo:</strong> Rea√ß√£o de Neutraliza√ß√£o</p>
                    <p><strong>Caracter√≠sticas:</strong> √Åcido reage com base formando sal e √°gua</p>
                    <p><strong>Entalpia:</strong> ŒîH = -57.3 kJ/mol (exot√©rmica)</p>
                    <p><strong>pH Final:</strong> Aproximadamente 7 (neutro)</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Tipo de Rea√ß√£o</div>
                        <div class="stat-value" id="reaction-type">Neutraliza√ß√£o</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">ŒîH (Entalpia)</div>
                        <div class="stat-value" id="enthalpy">-57.3 kJ/mol</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Estado</div>
                        <div class="stat-value" id="reaction-state">Exot√©rmica</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">pH Final</div>
                        <div class="stat-value" id="ph-final">7.0</div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" onclick="simulateReaction()">‚ñ∂Ô∏è Simular Rea√ß√£o</button>
                    <button class="btn btn-secondary" onclick="resetReaction()">üîÑ Reiniciar</button>
                    <button class="btn btn-secondary" onclick="balanceEquation()">‚öñÔ∏è Balancear Equa√ß√£o</button>
                </div>

                <div class="console" id="reaction-console">
                    <div class="console-line">Sistema de rea√ß√£o inicializado</div>
                </div>
            </div>

            <!-- Exemplos de Rea√ß√µes -->
            <div class="card">
                <div class="card-header">
                    <span>üìö</span>
                    <h3 class="card-title">Exemplos de Rea√ß√µes Comuns</h3>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                    <div class="info-item" style="cursor: pointer;" onclick="loadExample('neutralization')">
                        <div class="info-label">Neutraliza√ß√£o</div>
                        <div class="info-value" style="font-size: 0.9rem;">HCl + NaOH ‚Üí NaCl + H‚ÇÇO</div>
                    </div>

                    <div class="info-item" style="cursor: pointer;" onclick="loadExample('carbonate')">
                        <div class="info-label">√Åcido + Carbonato</div>
                        <div class="info-value" style="font-size: 0.9rem;">2HCl + CaCO‚ÇÉ ‚Üí CaCl‚ÇÇ + H‚ÇÇO + CO‚ÇÇ</div>
                    </div>

                    <div class="info-item" style="cursor: pointer;" onclick="loadExample('metal-acid')">
                        <div class="info-label">Metal + √Åcido</div>
                        <div class="info-value" style="font-size: 0.9rem;">Zn + 2HCl ‚Üí ZnCl‚ÇÇ + H‚ÇÇ</div>
                    </div>

                    <div class="info-item" style="cursor: pointer;" onclick="loadExample('combustion')">
                        <div class="info-label">Combust√£o</div>
                        <div class="info-value" style="font-size: 0.9rem;">CH‚ÇÑ + 2O‚ÇÇ ‚Üí CO‚ÇÇ + 2H‚ÇÇO</div>
                    </div>

                    <div class="info-item" style="cursor: pointer;" onclick="loadExample('synthesis')">
                        <div class="info-label">S√≠ntese</div>
                        <div class="info-value" style="font-size: 0.9rem;">2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO</div>
                    </div>

                    <div class="info-item" style="cursor: pointer;" onclick="loadExample('decomposition')">
                        <div class="info-label">Decomposi√ß√£o</div>
                        <div class="info-value" style="font-size: 0.9rem;">2H‚ÇÇO ‚Üí 2H‚ÇÇ + O‚ÇÇ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== GLOBAL STATE ====================
        const state = {
            selectedElement: null,
            currentReaction: null,
            reactionRunning: false
        };

        // Three.js objects
        let scene, camera, renderer, controls;
        let moleculeGroup, particleSystem;

        // ==================== PERIODIC TABLE DATA - 118 ELEMENTOS ====================
        const elements = {
            // [MESMOS DADOS DO C√ìDIGO ANTERIOR - elementos 1-118]
            // Per√≠odo 1
            1: { symbol: 'H', name: 'Hidrog√™nio', mass: 1.008, category: 'nonmetal', state: 'g√°s', density: 0.089, melt: -259, boil: -253, electroneg: 2.20, config: '1s¬π', group: 1, period: 1 },
            2: { symbol: 'He', name: 'H√©lio', mass: 4.003, category: 'noble-gas', state: 'g√°s', density: 0.178, melt: -272, boil: -269, electroneg: '-', config: '1s¬≤', group: 18, period: 1 },
            
            // Per√≠odo 2
            3: { symbol: 'Li', name: 'L√≠tio', mass: 6.941, category: 'alkali-metal', state: 's√≥lido', density: 0.534, melt: 180, boil: 1342, electroneg: 0.98, config: '[He] 2s¬π', group: 1, period: 2 },
            4: { symbol: 'Be', name: 'Ber√≠lio', mass: 9.012, category: 'alkaline-earth', state: 's√≥lido', density: 1.85, melt: 1287, boil: 2470, electroneg: 1.57, config: '[He] 2s¬≤', group: 2, period: 2 },
            5: { symbol: 'B', name: 'Boro', mass: 10.811, category: 'metalloid', state: 's√≥lido', density: 2.34, melt: 2075, boil: 4000, electroneg: 2.04, config: '[He] 2s¬≤ 2p¬π', group: 13, period: 2 },
            6: { symbol: 'C', name: 'Carbono', mass: 12.011, category: 'nonmetal', state: 's√≥lido', density: 2.26, melt: 3550, boil: 4827, electroneg: 2.55, config: '[He] 2s¬≤ 2p¬≤', group: 14, period: 2 },
            7: { symbol: 'N', name: 'Nitrog√™nio', mass: 14.007, category: 'nonmetal', state: 'g√°s', density: 1.25, melt: -210, boil: -196, electroneg: 3.04, config: '[He] 2s¬≤ 2p¬≥', group: 15, period: 2 },
            8: { symbol: 'O', name: 'Oxig√™nio', mass: 15.999, category: 'nonmetal', state: 'g√°s', density: 1.43, melt: -218, boil: -183, electroneg: 3.44, config: '[He] 2s¬≤ 2p‚Å¥', group: 16, period: 2 },
            9: { symbol: 'F', name: 'Fl√∫or', mass: 18.998, category: 'halogen', state: 'g√°s', density: 1.70, melt: -220, boil: -188, electroneg: 3.98, config: '[He] 2s¬≤ 2p‚Åµ', group: 17, period: 2 },
            10: { symbol: 'Ne', name: 'Ne√¥nio', mass: 20.180, category: 'noble-gas', state: 'g√°s', density: 0.900, melt: -249, boil: -246, electroneg: '-', config: '[He] 2s¬≤ 2p‚Å∂', group: 18, period: 2 },
            
            // Per√≠odo 3
            11: { symbol: 'Na', name: 'S√≥dio', mass: 22.990, category: 'alkali-metal', state: 's√≥lido', density: 0.971, melt: 98, boil: 883, electroneg: 0.93, config: '[Ne] 3s¬π', group: 1, period: 3 },
            12: { symbol: 'Mg', name: 'Magn√©sio', mass: 24.305, category: 'alkaline-earth', state: 's√≥lido', density: 1.74, melt: 650, boil: 1090, electroneg: 1.31, config: '[Ne] 3s¬≤', group: 2, period: 3 },
            13: { symbol: 'Al', name: 'Alum√≠nio', mass: 26.982, category: 'post-transition', state: 's√≥lido', density: 2.70, melt: 660, boil: 2519, electroneg: 1.61, config: '[Ne] 3s¬≤ 3p¬π', group: 13, period: 3 },
            14: { symbol: 'Si', name: 'Sil√≠cio', mass: 28.086, category: 'metalloid', state: 's√≥lido', density: 2.33, melt: 1414, boil: 3265, electroneg: 1.90, config: '[Ne] 3s¬≤ 3p¬≤', group: 14, period: 3 },
            15: { symbol: 'P', name: 'F√≥sforo', mass: 30.974, category: 'nonmetal', state: 's√≥lido', density: 1.82, melt: 44, boil: 280, electroneg: 2.19, config: '[Ne] 3s¬≤ 3p¬≥', group: 15, period: 3 },
            16: { symbol: 'S', name: 'Enxofre', mass: 32.065, category: 'nonmetal', state: 's√≥lido', density: 2.07, melt: 115, boil: 445, electroneg: 2.58, config: '[Ne] 3s¬≤ 3p‚Å¥', group: 16, period: 3 },
            17: { symbol: 'Cl', name: 'Cloro', mass: 35.453, category: 'halogen', state: 'g√°s', density: 3.21, melt: -102, boil: -34, electroneg: 3.16, config: '[Ne] 3s¬≤ 3p‚Åµ', group: 17, period: 3 },
            18: { symbol: 'Ar', name: 'Arg√¥nio', mass: 39.948, category: 'noble-gas', state: 'g√°s', density: 1.78, melt: -189, boil: -186, electroneg: '-', config: '[Ne] 3s¬≤ 3p‚Å∂', group: 18, period: 3 },
            
            // Per√≠odo 4
            19: { symbol: 'K', name: 'Pot√°ssio', mass: 39.098, category: 'alkali-metal', state: 's√≥lido', density: 0.862, melt: 63, boil: 759, electroneg: 0.82, config: '[Ar] 4s¬π', group: 1, period: 4 },
            20: { symbol: 'Ca', name: 'C√°lcio', mass: 40.078, category: 'alkaline-earth', state: 's√≥lido', density: 1.54, melt: 842, boil: 1484, electroneg: 1.00, config: '[Ar] 4s¬≤', group: 2, period: 4 },
            21: { symbol: 'Sc', name: 'Esc√¢ndio', mass: 44.956, category: 'transition-metal', state: 's√≥lido', density: 2.99, melt: 1541, boil: 2836, electroneg: 1.36, config: '[Ar] 3d¬π 4s¬≤', group: 3, period: 4 },
            22: { symbol: 'Ti', name: 'Tit√¢nio', mass: 47.867, category: 'transition-metal', state: 's√≥lido', density: 4.54, melt: 1668, boil: 3287, electroneg: 1.54, config: '[Ar] 3d¬≤ 4s¬≤', group: 4, period: 4 },
            23: { symbol: 'V', name: 'Van√°dio', mass: 50.942, category: 'transition-metal', state: 's√≥lido', density: 6.11, melt: 1910, boil: 3407, electroneg: 1.63, config: '[Ar] 3d¬≥ 4s¬≤', group: 5, period: 4 },
            24: { symbol: 'Cr', name: 'Cr√¥mio', mass: 51.996, category: 'transition-metal', state: 's√≥lido', density: 7.15, melt: 1907, boil: 2671, electroneg: 1.66, config: '[Ar] 3d‚Åµ 4s¬π', group: 6, period: 4 },
            25: { symbol: 'Mn', name: 'Mangan√™s', mass: 54.938, category: 'transition-metal', state: 's√≥lido', density: 7.44, melt: 1246, boil: 2061, electroneg: 1.55, config: '[Ar] 3d‚Åµ 4s¬≤', group: 7, period: 4 },
            26: { symbol: 'Fe', name: 'Ferro', mass: 55.845, category: 'transition-metal', state: 's√≥lido', density: 7.87, melt: 1538, boil: 2861, electroneg: 1.83, config: '[Ar] 3d‚Å∂ 4s¬≤', group: 8, period: 4 },
            27: { symbol: 'Co', name: 'Cobalto', mass: 58.933, category: 'transition-metal', state: 's√≥lido', density: 8.86, melt: 1495, boil: 2927, electroneg: 1.88, config: '[Ar] 3d‚Å∑ 4s¬≤', group: 9, period: 4 },
            28: { symbol: 'Ni', name: 'N√≠quel', mass: 58.693, category: 'transition-metal', state: 's√≥lido', density: 8.91, melt: 1455, boil: 2913, electroneg: 1.91, config: '[Ar] 3d‚Å∏ 4s¬≤', group: 10, period: 4 },
            29: { symbol: 'Cu', name: 'Cobre', mass: 63.546, category: 'transition-metal', state: 's√≥lido', density: 8.96, melt: 1085, boil: 2562, electroneg: 1.90, config: '[Ar] 3d¬π‚Å∞ 4s¬π', group: 11, period: 4 },
            30: { symbol: 'Zn', name: 'Zinco', mass: 65.380, category: 'transition-metal', state: 's√≥lido', density: 7.13, melt: 420, boil: 907, electroneg: 1.65, config: '[Ar] 3d¬π‚Å∞ 4s¬≤', group: 12, period: 4 },
            31: { symbol: 'Ga', name: 'G√°lio', mass: 69.723, category: 'post-transition', state: 's√≥lido', density: 5.91, melt: 30, boil: 2204, electroneg: 1.81, config: '[Ar] 3d¬π‚Å∞ 4s¬≤ 4p¬π', group: 13, period: 4 },
            32: { symbol: 'Ge', name: 'Germ√¢nio', mass: 72.640, category: 'metalloid', state: 's√≥lido', density: 5.32, melt: 938, boil: 2833, electroneg: 2.01, config: '[Ar] 3d¬π‚Å∞ 4s¬≤ 4p¬≤', group: 14, period: 4 },
            33: { symbol: 'As', name: 'Ars√™nio', mass: 74.922, category: 'metalloid', state: 's√≥lido', density: 5.78, melt: 817, boil: 614, electroneg: 2.18, config: '[Ar] 3d¬π‚Å∞ 4s¬≤ 4p¬≥', group: 15, period: 4 },
            34: { symbol: 'Se', name: 'Sel√™nio', mass: 78.960, category: 'nonmetal', state: 's√≥lido', density: 4.81, melt: 221, boil: 685, electroneg: 2.55, config: '[Ar] 3d¬π‚Å∞ 4s¬≤ 4p‚Å¥', group: 16, period: 4 },
            35: { symbol: 'Br', name: 'Bromo', mass: 79.904, category: 'halogen', state: 'l√≠quido', density: 3.12, melt: -7, boil: 59, electroneg: 2.96, config: '[Ar] 3d¬π‚Å∞ 4s¬≤ 4p‚Åµ', group: 17, period: 4 },
            36: { symbol: 'Kr', name: 'Cript√¥nio', mass: 83.798, category: 'noble-gas', state: 'g√°s', density: 3.75, melt: -157, boil: -153, electroneg: 3.00, config: '[Ar] 3d¬π‚Å∞ 4s¬≤ 4p‚Å∂', group: 18, period: 4 },
            
            // Per√≠odo 5
            37: { symbol: 'Rb', name: 'Rub√≠dio', mass: 85.468, category: 'alkali-metal', state: 's√≥lido', density: 1.53, melt: 39, boil: 688, electroneg: 0.82, config: '[Kr] 5s¬π', group: 1, period: 5 },
            38: { symbol: 'Sr', name: 'Estr√¥ncio', mass: 87.620, category: 'alkaline-earth', state: 's√≥lido', density: 2.64, melt: 777, boil: 1382, electroneg: 0.95, config: '[Kr] 5s¬≤', group: 2, period: 5 },
            39: { symbol: 'Y', name: '√çtrio', mass: 88.906, category: 'transition-metal', state: 's√≥lido', density: 4.47, melt: 1526, boil: 3345, electroneg: 1.22, config: '[Kr] 4d¬π 5s¬≤', group: 3, period: 5 },
            40: { symbol: 'Zr', name: 'Zirc√¥nio', mass: 91.224, category: 'transition-metal', state: 's√≥lido', density: 6.51, melt: 1855, boil: 4409, electroneg: 1.33, config: '[Kr] 4d¬≤ 5s¬≤', group: 4, period: 5 },
            41: { symbol: 'Nb', name: 'Ni√≥bio', mass: 92.906, category: 'transition-metal', state: 's√≥lido', density: 8.57, melt: 2477, boil: 4744, electroneg: 1.6, config: '[Kr] 4d‚Å¥ 5s¬π', group: 5, period: 5 },
            42: { symbol: 'Mo', name: 'Molibd√™nio', mass: 95.960, category: 'transition-metal', state: 's√≥lido', density: 10.2, melt: 2623, boil: 4639, electroneg: 2.16, config: '[Kr] 4d‚Åµ 5s¬π', group: 6, period: 5 },
            43: { symbol: 'Tc', name: 'Tecn√©cio', mass: 98, category: 'transition-metal', state: 's√≥lido', density: 11, melt: 2157, boil: 4265, electroneg: 1.9, config: '[Kr] 4d‚Åµ 5s¬≤', group: 7, period: 5 },
            44: { symbol: 'Ru', name: 'Rut√™nio', mass: 101.07, category: 'transition-metal', state: 's√≥lido', density: 12.4, melt: 2334, boil: 4150, electroneg: 2.2, config: '[Kr] 4d‚Å∑ 5s¬π', group: 8, period: 5 },
            45: { symbol: 'Rh', name: 'R√≥dio', mass: 102.91, category: 'transition-metal', state: 's√≥lido', density: 12.4, melt: 1964, boil: 3695, electroneg: 2.28, config: '[Kr] 4d‚Å∏ 5s¬π', group: 9, period: 5 },
            46: { symbol: 'Pd', name: 'Pal√°dio', mass: 106.42, category: 'transition-metal', state: 's√≥lido', density: 12.0, melt: 1555, boil: 2963, electroneg: 2.20, config: '[Kr] 4d¬π‚Å∞', group: 10, period: 5 },
            47: { symbol: 'Ag', name: 'Prata', mass: 107.87, category: 'transition-metal', state: 's√≥lido', density: 10.5, melt: 962, boil: 2162, electroneg: 1.93, config: '[Kr] 4d¬π‚Å∞ 5s¬π', group: 11, period: 5 },
            48: { symbol: 'Cd', name: 'C√°dmio', mass: 112.41, category: 'transition-metal', state: 's√≥lido', density: 8.69, melt: 321, boil: 767, electroneg: 1.69, config: '[Kr] 4d¬π‚Å∞ 5s¬≤', group: 12, period: 5 },
            49: { symbol: 'In', name: '√çndio', mass: 114.82, category: 'post-transition', state: 's√≥lido', density: 7.31, melt: 157, boil: 2072, electroneg: 1.78, config: '[Kr] 4d¬π‚Å∞ 5s¬≤ 5p¬π', group: 13, period: 5 },
            50: { symbol: 'Sn', name: 'Estanho', mass: 118.71, category: 'post-transition', state: 's√≥lido', density: 7.29, melt: 232, boil: 2602, electroneg: 1.96, config: '[Kr] 4d¬π‚Å∞ 5s¬≤ 5p¬≤', group: 14, period: 5 },
            51: { symbol: 'Sb', name: 'Antim√¥nio', mass: 121.76, category: 'metalloid', state: 's√≥lido', density: 6.69, melt: 631, boil: 1587, electroneg: 2.05, config: '[Kr] 4d¬π‚Å∞ 5s¬≤ 5p¬≥', group: 15, period: 5 },
            52: { symbol: 'Te', name: 'Tel√∫rio', mass: 127.60, category: 'metalloid', state: 's√≥lido', density: 6.23, melt: 450, boil: 988, electroneg: 2.1, config: '[Kr] 4d¬π‚Å∞ 5s¬≤ 5p‚Å¥', group: 16, period: 5 },
            53: { symbol: 'I', name: 'Iodo', mass: 126.90, category: 'halogen', state: 's√≥lido', density: 4.93, melt: 114, boil: 184, electroneg: 2.66, config: '[Kr] 4d¬π‚Å∞ 5s¬≤ 5p‚Åµ', group: 17, period: 5 },
            54: { symbol: 'Xe', name: 'Xen√¥nio', mass: 131.29, category: 'noble-gas', state: 'g√°s', density: 5.89, melt: -112, boil: -108, electroneg: 2.6, config: '[Kr] 4d¬π‚Å∞ 5s¬≤ 5p‚Å∂', group: 18, period: 5 },
            
            // Per√≠odo 6
            55: { symbol: 'Cs', name: 'C√©sio', mass: 132.91, category: 'alkali-metal', state: 's√≥lido', density: 1.87, melt: 28, boil: 671, electroneg: 0.79, config: '[Xe] 6s¬π', group: 1, period: 6 },
            56: { symbol: 'Ba', name: 'B√°rio', mass: 137.33, category: 'alkaline-earth', state: 's√≥lido', density: 3.59, melt: 727, boil: 1897, electroneg: 0.89, config: '[Xe] 6s¬≤', group: 2, period: 6 },
            
            // Lantan√≠deos (57-71)
            57: { symbol: 'La', name: 'Lant√¢nio', mass: 138.91, category: 'lanthanide', state: 's√≥lido', density: 6.15, melt: 920, boil: 3464, electroneg: 1.1, config: '[Xe] 5d¬π 6s¬≤', group: 3, period: 6 },
            58: { symbol: 'Ce', name: 'C√©rio', mass: 140.12, category: 'lanthanide', state: 's√≥lido', density: 6.77, melt: 798, boil: 3443, electroneg: 1.12, config: '[Xe] 4f¬π 5d¬π 6s¬≤', group: 3, period: 6 },
            59: { symbol: 'Pr', name: 'Praseod√≠mio', mass: 140.91, category: 'lanthanide', state: 's√≥lido', density: 6.77, melt: 931, boil: 3520, electroneg: 1.13, config: '[Xe] 4f¬≥ 6s¬≤', group: 3, period: 6 },
            60: { symbol: 'Nd', name: 'Neod√≠mio', mass: 144.24, category: 'lanthanide', state: 's√≥lido', density: 7.01, melt: 1021, boil: 3074, electroneg: 1.14, config: '[Xe] 4f‚Å¥ 6s¬≤', group: 3, period: 6 },
            61: { symbol: 'Pm', name: 'Prom√©cio', mass: 145, category: 'lanthanide', state: 's√≥lido', density: 7.26, melt: 1042, boil: 3000, electroneg: 1.13, config: '[Xe] 4f‚Åµ 6s¬≤', group: 3, period: 6 },
            62: { symbol: 'Sm', name: 'Sam√°rio', mass: 150.36, category: 'lanthanide', state: 's√≥lido', density: 7.52, melt: 1074, boil: 1794, electroneg: 1.17, config: '[Xe] 4f‚Å∂ 6s¬≤', group: 3, period: 6 },
            63: { symbol: 'Eu', name: 'Eur√≥pio', mass: 151.96, category: 'lanthanide', state: 's√≥lido', density: 5.24, melt: 822, boil: 1529, electroneg: 1.2, config: '[Xe] 4f‚Å∑ 6s¬≤', group: 3, period: 6 },
            64: { symbol: 'Gd', name: 'Gadol√≠nio', mass: 157.25, category: 'lanthanide', state: 's√≥lido', density: 7.90, melt: 1313, boil: 3273, electroneg: 1.2, config: '[Xe] 4f‚Å∑ 5d¬π 6s¬≤', group: 3, period: 6 },
            65: { symbol: 'Tb', name: 'T√©rbio', mass: 158.93, category: 'lanthanide', state: 's√≥lido', density: 8.23, melt: 1356, boil: 3230, electroneg: 1.2, config: '[Xe] 4f‚Åπ 6s¬≤', group: 3, period: 6 },
            66: { symbol: 'Dy', name: 'Dispr√≥sio', mass: 162.50, category: 'lanthanide', state: 's√≥lido', density: 8.55, melt: 1412, boil: 2567, electroneg: 1.22, config: '[Xe] 4f¬π‚Å∞ 6s¬≤', group: 3, period: 6 },
            67: { symbol: 'Ho', name: 'H√≥lmio', mass: 164.93, category: 'lanthanide', state: 's√≥lido', density: 8.80, melt: 1474, boil: 2700, electroneg: 1.23, config: '[Xe] 4f¬π¬π 6s¬≤', group: 3, period: 6 },
            68: { symbol: 'Er', name: '√ârbio', mass: 167.26, category: 'lanthanide', state: 's√≥lido', density: 9.07, melt: 1529, boil: 2868, electroneg: 1.24, config: '[Xe] 4f¬π¬≤ 6s¬≤', group: 3, period: 6 },
            69: { symbol: 'Tm', name: 'T√∫lio', mass: 168.93, category: 'lanthanide', state: 's√≥lido', density: 9.32, melt: 1545, boil: 1950, electroneg: 1.25, config: '[Xe] 4f¬π¬≥ 6s¬≤', group: 3, period: 6 },
            70: { symbol: 'Yb', name: 'It√©rbio', mass: 173.05, category: 'lanthanide', state: 's√≥lido', density: 6.90, melt: 824, boil: 1196, electroneg: 1.1, config: '[Xe] 4f¬π‚Å¥ 6s¬≤', group: 3, period: 6 },
            71: { symbol: 'Lu', name: 'Lut√©cio', mass: 174.97, category: 'lanthanide', state: 's√≥lido', density: 9.84, melt: 1663, boil: 3402, electroneg: 1.27, config: '[Xe] 4f¬π‚Å¥ 5d¬π 6s¬≤', group: 3, period: 6 },
            
            72: { symbol: 'Hf', name: 'H√°fnio', mass: 178.49, category: 'transition-metal', state: 's√≥lido', density: 13.3, melt: 2233, boil: 4603, electroneg: 1.3, config: '[Xe] 4f¬π‚Å¥ 5d¬≤ 6s¬≤', group: 4, period: 6 },
            73: { symbol: 'Ta', name: 'T√¢ntalo', mass: 180.95, category: 'transition-metal', state: 's√≥lido', density: 16.7, melt: 3017, boil: 5458, electroneg: 1.5, config: '[Xe] 4f¬π‚Å¥ 5d¬≥ 6s¬≤', group: 5, period: 6 },
            74: { symbol: 'W', name: 'Tungst√™nio', mass: 183.84, category: 'transition-metal', state: 's√≥lido', density: 19.3, melt: 3422, boil: 5555, electroneg: 2.36, config: '[Xe] 4f¬π‚Å¥ 5d‚Å¥ 6s¬≤', group: 6, period: 6 },
            75: { symbol: 'Re', name: 'R√™nio', mass: 186.21, category: 'transition-metal', state: 's√≥lido', density: 21.0, melt: 3186, boil: 5596, electroneg: 1.9, config: '[Xe] 4f¬π‚Å¥ 5d‚Åµ 6s¬≤', group: 7, period: 6 },
            76: { symbol: 'Os', name: '√ìsmio', mass: 190.23, category: 'transition-metal', state: 's√≥lido', density: 22.6, melt: 3033, boil: 5012, electroneg: 2.2, config: '[Xe] 4f¬π‚Å¥ 5d‚Å∂ 6s¬≤', group: 8, period: 6 },
            77: { symbol: 'Ir', name: 'Ir√≠dio', mass: 192.22, category: 'transition-metal', state: 's√≥lido', density: 22.6, melt: 2446, boil: 4428, electroneg: 2.20, config: '[Xe] 4f¬π‚Å¥ 5d‚Å∑ 6s¬≤', group: 9, period: 6 },
            78: { symbol: 'Pt', name: 'Platina', mass: 195.08, category: 'transition-metal', state: 's√≥lido', density: 21.5, melt: 1768, boil: 3825, electroneg: 2.28, config: '[Xe] 4f¬π‚Å¥ 5d‚Åπ 6s¬π', group: 10, period: 6 },
            79: { symbol: 'Au', name: 'Ouro', mass: 196.97, category: 'transition-metal', state: 's√≥lido', density: 19.3, melt: 1064, boil: 2856, electroneg: 2.54, config: '[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬π', group: 11, period: 6 },
            80: { symbol: 'Hg', name: 'Merc√∫rio', mass: 200.59, category: 'transition-metal', state: 'l√≠quido', density: 13.5, melt: -39, boil: 357, electroneg: 2.00, config: '[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤', group: 12, period: 6 },
            81: { symbol: 'Tl', name: 'T√°lio', mass: 204.38, category: 'post-transition', state: 's√≥lido', density: 11.8, melt: 304, boil: 1473, electroneg: 1.62, config: '[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p¬π', group: 13, period: 6 },
            82: { symbol: 'Pb', name: 'Chumbo', mass: 207.2, category: 'post-transition', state: 's√≥lido', density: 11.3, melt: 327, boil: 1749, electroneg: 2.33, config: '[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p¬≤', group: 14, period: 6 },
            83: { symbol: 'Bi', name: 'Bismuto', mass: 208.98, category: 'post-transition', state: 's√≥lido', density: 9.81, melt: 271, boil: 1564, electroneg: 2.02, config: '[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p¬≥', group: 15, period: 6 },
            84: { symbol: 'Po', name: 'Pol√¥nio', mass: 209, category: 'post-transition', state: 's√≥lido', density: 9.20, melt: 254, boil: 962, electroneg: 2.0, config: '[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p‚Å¥', group: 16, period: 6 },
            85: { symbol: 'At', name: 'Astato', mass: 210, category: 'halogen', state: 's√≥lido', density: 7.0, melt: 302, boil: 337, electroneg: 2.2, config: '[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p‚Åµ', group: 17, period: 6 },
            86: { symbol: 'Rn', name: 'Rad√¥nio', mass: 222, category: 'noble-gas', state: 'g√°s', density: 9.73, melt: -71, boil: -62, electroneg: 2.2, config: '[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p‚Å∂', group: 18, period: 6 },
            
            // Per√≠odo 7
            87: { symbol: 'Fr', name: 'Fr√¢ncio', mass: 223, category: 'alkali-metal', state: 's√≥lido', density: 1.87, melt: 27, boil: 677, electroneg: 0.7, config: '[Rn] 7s¬π', group: 1, period: 7 },
            88: { symbol: 'Ra', name: 'R√°dio', mass: 226, category: 'alkaline-earth', state: 's√≥lido', density: 5.5, melt: 696, boil: 1737, electroneg: 0.9, config: '[Rn] 7s¬≤', group: 2, period: 7 },
            
            // Actin√≠deos (89-103)
            89: { symbol: 'Ac', name: 'Act√≠nio', mass: 227, category: 'actinide', state: 's√≥lido', density: 10.1, melt: 1051, boil: 3198, electroneg: 1.1, config: '[Rn] 6d¬π 7s¬≤', group: 3, period: 7 },
            90: { symbol: 'Th', name: 'T√≥rio', mass: 232.04, category: 'actinide', state: 's√≥lido', density: 11.7, melt: 1750, boil: 4788, electroneg: 1.3, config: '[Rn] 6d¬≤ 7s¬≤', group: 3, period: 7 },
            91: { symbol: 'Pa', name: 'Protact√≠nio', mass: 231.04, category: 'actinide', state: 's√≥lido', density: 15.4, melt: 1572, boil: 4027, electroneg: 1.5, config: '[Rn] 5f¬≤ 6d¬π 7s¬≤', group: 3, period: 7 },
            92: { symbol: 'U', name: 'Ur√¢nio', mass: 238.03, category: 'actinide', state: 's√≥lido', density: 19.1, melt: 1135, boil: 4131, electroneg: 1.38, config: '[Rn] 5f¬≥ 6d¬π 7s¬≤', group: 3, period: 7 },
            93: { symbol: 'Np', name: 'Net√∫nio', mass: 237, category: 'actinide', state: 's√≥lido', density: 20.5, melt: 644, boil: 4000, electroneg: 1.36, config: '[Rn] 5f‚Å¥ 6d¬π 7s¬≤', group: 3, period: 7 },
            94: { symbol: 'Pu', name: 'Plut√¥nio', mass: 244, category: 'actinide', state: 's√≥lido', density: 19.8, melt: 640, boil: 3228, electroneg: 1.28, config: '[Rn] 5f‚Å∂ 7s¬≤', group: 3, period: 7 },
            95: { symbol: 'Am', name: 'Amer√≠cio', mass: 243, category: 'actinide', state: 's√≥lido', density: 12.0, melt: 1176, boil: 2011, electroneg: 1.13, config: '[Rn] 5f‚Å∑ 7s¬≤', group: 3, period: 7 },
            96: { symbol: 'Cm', name: 'C√∫rio', mass: 247, category: 'actinide', state: 's√≥lido', density: 13.5, melt: 1345, boil: 3110, electroneg: 1.28, config: '[Rn] 5f‚Å∑ 6d¬π 7s¬≤', group: 3, period: 7 },
            97: { symbol: 'Bk', name: 'Berqu√©lio', mass: 247, category: 'actinide', state: 's√≥lido', density: 14.8, melt: 1050, boil: 2627, electroneg: 1.3, config: '[Rn] 5f‚Åπ 7s¬≤', group: 3, period: 7 },
            98: { symbol: 'Cf', name: 'Calif√≥rnio', mass: 251, category: 'actinide', state: 's√≥lido', density: 15.1, melt: 900, boil: 1470, electroneg: 1.3, config: '[Rn] 5f¬π‚Å∞ 7s¬≤', group: 3, period: 7 },
            99: { symbol: 'Es', name: 'Einst√™nio', mass: 252, category: 'actinide', state: 's√≥lido', density: 8.84, melt: 860, boil: 1130, electroneg: 1.3, config: '[Rn] 5f¬π¬π 7s¬≤', group: 3, period: 7 },
            100: { symbol: 'Fm', name: 'F√©rmio', mass: 257, category: 'actinide', state: 's√≥lido', density: '-', melt: 1527, boil: '-', electroneg: 1.3, config: '[Rn] 5f¬π¬≤ 7s¬≤', group: 3, period: 7 },
            101: { symbol: 'Md', name: 'Mendel√©vio', mass: 258, category: 'actinide', state: 's√≥lido', density: '-', melt: 827, boil: '-', electroneg: 1.3, config: '[Rn] 5f¬π¬≥ 7s¬≤', group: 3, period: 7 },
            102: { symbol: 'No', name: 'Nob√©lio', mass: 259, category: 'actinide', state: 's√≥lido', density: '-', melt: 827, boil: '-', electroneg: 1.3, config: '[Rn] 5f¬π‚Å¥ 7s¬≤', group: 3, period: 7 },
            103: { symbol: 'Lr', name: 'Laur√™ncio', mass: 262, category: 'actinide', state: 's√≥lido', density: '-', melt: 1627, boil: '-', electroneg: 1.3, config: '[Rn] 5f¬π‚Å¥ 7s¬≤ 7p¬π', group: 3, period: 7 },
            
            104: { symbol: 'Rf', name: 'Rutherf√≥rdio', mass: 267, category: 'transition-metal', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d¬≤ 7s¬≤', group: 4, period: 7 },
            105: { symbol: 'Db', name: 'D√∫bnio', mass: 268, category: 'transition-metal', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d¬≥ 7s¬≤', group: 5, period: 7 },
            106: { symbol: 'Sg', name: 'Seab√≥rgio', mass: 271, category: 'transition-metal', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d‚Å¥ 7s¬≤', group: 6, period: 7 },
            107: { symbol: 'Bh', name: 'B√≥hrio', mass: 272, category: 'transition-metal', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d‚Åµ 7s¬≤', group: 7, period: 7 },
            108: { symbol: 'Hs', name: 'H√°ssio', mass: 270, category: 'transition-metal', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d‚Å∂ 7s¬≤', group: 8, period: 7 },
            109: { symbol: 'Mt', name: 'Meitn√©rio', mass: 276, category: 'transition-metal', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d‚Å∑ 7s¬≤', group: 9, period: 7 },
            110: { symbol: 'Ds', name: 'Darmst√°dio', mass: 281, category: 'transition-metal', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d‚Å∏ 7s¬≤', group: 10, period: 7 },
            111: { symbol: 'Rg', name: 'Roentg√™nio', mass: 280, category: 'transition-metal', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d‚Åπ 7s¬≤', group: 11, period: 7 },
            112: { symbol: 'Cn', name: 'Copern√≠cio', mass: 285, category: 'transition-metal', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤', group: 12, period: 7 },
            113: { symbol: 'Nh', name: 'Nihonium', mass: 284, category: 'post-transition', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p¬π', group: 13, period: 7 },
            114: { symbol: 'Fl', name: 'Fler√≥vio', mass: 289, category: 'post-transition', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p¬≤', group: 14, period: 7 },
            115: { symbol: 'Mc', name: 'Mosc√≥vio', mass: 288, category: 'post-transition', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p¬≥', group: 15, period: 7 },
            116: { symbol: 'Lv', name: 'Liverm√≥rio', mass: 293, category: 'post-transition', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p‚Å¥', group: 16, period: 7 },
            117: { symbol: 'Ts', name: 'Tenessino', mass: 294, category: 'halogen', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p‚Åµ', group: 17, period: 7 },
            118: { symbol: 'Og', name: 'Oganess√¥nio', mass: 294, category: 'noble-gas', state: 's√≥lido', density: '-', melt: '-', boil: '-', electroneg: '-', config: '[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p‚Å∂', group: 18, period: 7 }
        };

        // Reaction database
        const reactions = {
            'HCl+NaOH': {
                equation: 'HCl + NaOH ‚Üí NaCl + H‚ÇÇO',
                products: ['NaCl', 'H‚ÇÇO'],
                type: 'Neutraliza√ß√£o',
                enthalpy: -57.3,
                state: 'Exot√©rmica',
                ph: 7.0,
                description: 'Rea√ß√£o de neutraliza√ß√£o entre √°cido forte e base forte',
                info: '√Åcido reage com base formando sal e √°gua'
            },
            'HCl+CaCO3': {
                equation: '2HCl + CaCO‚ÇÉ ‚Üí CaCl‚ÇÇ + H‚ÇÇO + CO‚ÇÇ',
                products: ['CaCl‚ÇÇ', 'H‚ÇÇO', 'CO‚ÇÇ'],
                type: 'Efervesc√™ncia',
                enthalpy: -15.2,
                state: 'Exot√©rmica',
                ph: 7.0,
                description: '√Åcido reage com carbonato liberando g√°s carb√¥nico',
                info: 'Rea√ß√£o caracter√≠stica com libera√ß√£o de CO‚ÇÇ (efervesc√™ncia)'
            },
            'Zn+HCl': {
                equation: 'Zn + 2HCl ‚Üí ZnCl‚ÇÇ + H‚ÇÇ',
                products: ['ZnCl‚ÇÇ', 'H‚ÇÇ'],
                type: 'Deslocamento',
                enthalpy: -152.4,
                state: 'Exot√©rmica',
                ph: 2.0,
                description: 'Metal reage com √°cido liberando hidrog√™nio',
                info: 'Rea√ß√£o de simples troca com libera√ß√£o de g√°s H‚ÇÇ'
            },
            'CH4+O2': {
                equation: 'CH‚ÇÑ + 2O‚ÇÇ ‚Üí CO‚ÇÇ + 2H‚ÇÇO',
                products: ['CO‚ÇÇ', 'H‚ÇÇO'],
                type: 'Combust√£o',
                enthalpy: -890.0,
                state: 'Exot√©rmica',
                ph: 7.0,
                description: 'Combust√£o completa do metano',
                info: 'Rea√ß√£o exot√©rmica com libera√ß√£o de energia'
            },
            'H2+O2': {
                equation: '2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO',
                products: ['H‚ÇÇO'],
                type: 'S√≠ntese',
                enthalpy: -285.8,
                state: 'Exot√©rmica',
                ph: 7.0,
                description: 'Forma√ß√£o de √°gua a partir dos elementos',
                info: 'Rea√ß√£o de s√≠ntese altamente exot√©rmica'
            },
            'H2O+energy': {
                equation: '2H‚ÇÇO ‚Üí 2H‚ÇÇ + O‚ÇÇ',
                products: ['H‚ÇÇ', 'O‚ÇÇ'],
                type: 'Decomposi√ß√£o',
                enthalpy: 285.8,
                state: 'Endot√©rmica',
                ph: 7.0,
                description: 'Eletr√≥lise da √°gua',
                info: 'Decomposi√ß√£o da √°gua por energia el√©trica'
            }
        };

        // Atom colors for 3D visualization
        const atomColors = {
            'H': 0xE8E8E8,
            'C': 0x404040,
            'N': 0x0000FF,
            'O': 0xFF0000,
            'S': 0xFFFF00,
            'Cl': 0x00FF00,
            'Na': 0x8B00FF,
            'Ca': 0x808090,
            'Zn': 0x7DA7D9,
            'Fe': 0xE06633
        };

        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', () => {
            initializeTabs();
            initializePeriodicTable();
            initialize3DViewer();
            updateReaction();
        });

        function initializeTabs() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.getAttribute('data-tab');
                    
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    button.classList.add('active');
                    document.getElementById(targetTab).classList.add('active');
                });
            });
        }

        // ==================== PERIODIC TABLE ====================
        function initializePeriodicTable() {
            const mainGrid = document.getElementById('periodic-table-grid');
            const lanthanidesGrid = document.getElementById('lanthanides-grid');
            const actinidesGrid = document.getElementById('actinides-grid');
            
            // Create main periodic table (periods 1-7, excluding lanthanides/actinides details)
            for (let period = 1; period <= 7; period++) {
                for (let group = 1; group <= 18; group++) {
                    // Skip group 3 for periods 6-7 where lanthanides/actinides go
                    if (group === 3 && (period === 6 || period === 7)) {
                        const placeholder = document.createElement('div');
                        placeholder.className = 'series-placeholder';
                        placeholder.textContent = period === 6 ? '57-71' : '89-103';
                        placeholder.style.cursor = 'help';
                        placeholder.title = period === 6 ? 'Lantan√≠deos' : 'Actin√≠deos';
                        mainGrid.appendChild(placeholder);
                        continue;
                    }

                    // Find element at this position
                    const element = Object.values(elements).find(el => {
                        if (el.period === period && el.group === group) {
                            // Skip lanthanides and actinides in main table
                            const atomicNum = parseInt(Object.keys(elements).find(key => elements[key] === el));
                            if ((atomicNum >= 57 && atomicNum <= 71) || (atomicNum >= 89 && atomicNum <= 103)) {
                                return false;
                            }
                            return true;
                        }
                        return false;
                    });

                    if (element) {
                        const atomicNumber = Object.keys(elements).find(key => 
                            elements[key] === element
                        );
                        mainGrid.appendChild(createElement(atomicNumber, element));
                    } else {
                        // Empty space
                        const emptyDiv = document.createElement('div');
                        mainGrid.appendChild(emptyDiv);
                    }
                }
            }

            // Add lanthanides (57-71)
            for (let z = 57; z <= 71; z++) {
                const element = elements[z];
                if (element) {
                    lanthanidesGrid.appendChild(createElement(z, element));
                }
            }

            // Add actinides (89-103)
            for (let z = 89; z <= 103; z++) {
                const element = elements[z];
                if (element) {
                    actinidesGrid.appendChild(createElement(z, element));
                }
            }
        }

        function createElement(atomicNumber, element) {
            const elementDiv = document.createElement('div');
            elementDiv.className = `element ${element.category}`;
            elementDiv.dataset.number = atomicNumber;
            elementDiv.innerHTML = `
                <div class="element-number">${atomicNumber}</div>
                <div class="element-symbol">${element.symbol}</div>
                <div class="element-name">${element.name}</div>
                <div class="element-mass">${typeof element.mass === 'number' ? element.mass.toFixed(2) : element.mass}</div>
            `;
            elementDiv.onclick = () => selectElement(atomicNumber);
            return elementDiv;
        }

        function selectElement(atomicNumber) {
            const element = elements[atomicNumber];
            if (!element) return;

            // Update selected state
            document.querySelectorAll('.element').forEach(el => el.classList.remove('selected'));
            const selectedEl = document.querySelector(`[data-number="${atomicNumber}"]`);
            if (selectedEl) {
                selectedEl.classList.add('selected');
            }

            state.selectedElement = element;

            // Update info panel
            document.getElementById('element-name').textContent = element.name;
            document.getElementById('element-symbol').textContent = element.symbol;
            document.getElementById('atomic-number').textContent = atomicNumber;
            document.getElementById('atomic-mass').textContent = typeof element.mass === 'number' ? `${element.mass.toFixed(3)} u` : `${element.mass} u`;
            document.getElementById('state').textContent = element.state.charAt(0).toUpperCase() + element.state.slice(1);
            document.getElementById('category').textContent = getCategoryName(element.category);
            document.getElementById('density').textContent = element.density !== '-' ? `${element.density} g/cm¬≥` : 'N/D';
            document.getElementById('melting-point').textContent = element.melt !== '-' ? `${element.melt}¬∞C` : 'N/D';
            document.getElementById('boiling-point').textContent = element.boil !== '-' ? `${element.boil}¬∞C` : 'N/D';
            document.getElementById('electronegativity').textContent = element.electroneg;
            document.getElementById('electron-config').textContent = element.config;
        }

        function getCategoryName(category) {
            const names = {
                'alkali-metal': 'Metal Alcalino',
                'alkaline-earth': 'Metal Alcalino-Terroso',
                'transition-metal': 'Metal de Transi√ß√£o',
                'post-transition': 'Metal P√≥s-Transi√ß√£o',
                'metalloid': 'Metaloide',
                'nonmetal': 'N√£o-Metal',
                'halogen': 'Halog√™nio',
                'noble-gas': 'G√°s Nobre',
                'lanthanide': 'Lantan√≠deo',
                'actinide': 'Actin√≠deo'
            };
            return names[category] || category;
        }

        // ==================== 3D VIEWER ====================
        function initialize3DViewer() {
            const container = document.getElementById('reaction-viewer');
            if (!container) return;

            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0a0a0a);

            camera = new THREE.PerspectiveCamera(
                50,
                container.clientWidth / container.clientHeight,
                0.1,
                1000
            );
            camera.position.set(0, 0, 10);

            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(renderer.domElement);

            const ambientLight = new THREE.AmbientLight(0x404040, 2);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(5, 5, 5);
            scene.add(directionalLight);

            moleculeGroup = new THREE.Group();
            scene.add(moleculeGroup);

            if (typeof THREE.OrbitControls !== 'undefined') {
                controls = new THREE.OrbitControls(camera, renderer.domElement);
                controls.enableDamping = true;
                controls.dampingFactor = 0.05;
            }

            animate3D();
        }

        function animate3D() {
            requestAnimationFrame(animate3D);
            
            if (controls) {
                controls.update();
            }
            
            if (moleculeGroup && state.reactionRunning) {
                moleculeGroup.rotation.y += 0.01;
            }
            
            renderer.render(scene, camera);
        }

        function drawMolecule(formula) {
            while (moleculeGroup.children.length > 0) {
                moleculeGroup.remove(moleculeGroup.children[0]);
            }

            const atoms = parseFormula(formula);
            
            atoms.forEach((atom, index) => {
                const geometry = new THREE.SphereGeometry(0.3, 32, 32);
                const material = new THREE.MeshPhongMaterial({ 
                    color: atomColors[atom.element] || 0x808080,
                    shininess: 30
                });
                const sphere = new THREE.Mesh(geometry, material);
                
                sphere.position.x = (index - atoms.length / 2) * 1.5;
                sphere.position.y = Math.sin(index) * 0.5;
                
                moleculeGroup.add(sphere);
            });
        }

        function parseFormula(formula) {
            const atoms = [];
            const regex = /([A-Z][a-z]?)(\d*)/g;
            let match;
            
            while ((match = regex.exec(formula)) !== null) {
                const element = match[1];
                const count = parseInt(match[2]) || 1;
                
                for (let i = 0; i < count; i++) {
                    atoms.push({ element });
                }
            }
            
            return atoms;
        }

        // ==================== REACTIONS (MESMO C√ìDIGO ANTERIOR) ====================
        function updateReaction() {
            const reagent1 = document.getElementById('reagent1').value;
            const reagent2 = document.getElementById('reagent2').value;
            
            const reactionKey = `${reagent1}+${reagent2}`;
            const reverseKey = `${reagent2}+${reagent1}`;
            
            const reaction = reactions[reactionKey] || reactions[reverseKey];
            
            if (reaction) {
                state.currentReaction = reaction;
                displayReaction(reaction);
            } else {
                displayUnknownReaction(reagent1, reagent2);
            }
        }

        function displayReaction(reaction) {
            document.getElementById('reaction-equation').innerHTML = reaction.equation.replace(
                /([A-Z][a-z]?[‚ÇÄ-‚Çâ]*\([A-Z]+\)[‚ÇÄ-‚Çâ]*|[A-Z][a-z]?[‚ÇÄ-‚Çâ]*)/g,
                '<span class="compound">$1</span>'
            ).replace(/\+/g, '<span class="reaction-arrow">+</span>')
              .replace(/‚Üí/g, '<span class="reaction-arrow">‚Üí</span>');

            document.getElementById('reaction-type').textContent = reaction.type;
            document.getElementById('enthalpy').textContent = `${reaction.enthalpy > 0 ? '+' : ''}${reaction.enthalpy.toFixed(1)} kJ/mol`;
            document.getElementById('reaction-state').textContent = reaction.state;
            document.getElementById('ph-final').textContent = reaction.ph.toFixed(1);

            document.getElementById('reaction-info').innerHTML = `
                <h4>${reaction.type}</h4>
                <p><strong>Tipo:</strong> ${reaction.type}</p>
                <p><strong>Caracter√≠sticas:</strong> ${reaction.info}</p>
                <p><strong>Entalpia:</strong> ŒîH = ${reaction.enthalpy} kJ/mol (${reaction.state.toLowerCase()})</p>
                <p><strong>pH Final:</strong> ${reaction.ph}</p>
                <p>${reaction.description}</p>
            `;
        }

        function displayUnknownReaction(r1, r2) {
            document.getElementById('reaction-equation').innerHTML = `
                <span class="compound">${r1}</span>
                <span class="reaction-arrow">+</span>
                <span class="compound">${r2}</span>
                <span class="reaction-arrow">‚Üí</span>
                <span class="compound">?</span>
            `;

            document.getElementById('reaction-type').textContent = 'Desconhecida';
            document.getElementById('enthalpy').textContent = '?';
            document.getElementById('reaction-state').textContent = '?';
            document.getElementById('ph-final').textContent = '?';

            document.getElementById('reaction-info').innerHTML = `
                <h4>Rea√ß√£o Desconhecida</h4>
                <p>Esta combina√ß√£o de reagentes n√£o est√° no banco de dados.</p>
                <p>Tente selecionar outros reagentes ou consulte uma tabela de rea√ß√µes qu√≠micas.</p>
            `;
        }

        function simulateReaction() {
            if (!state.currentReaction) {
                addConsoleMessage('Nenhuma rea√ß√£o conhecida para simular');
                return;
            }

            state.reactionRunning = true;
            
            addConsoleMessage('Iniciando simula√ß√£o da rea√ß√£o...');
            addConsoleMessage(`Tipo: ${state.currentReaction.type}`);
            addConsoleMessage(`ŒîH = ${state.currentReaction.enthalpy} kJ/mol`);
            
            const reagent1 = document.getElementById('reagent1').value;
            drawMolecule(reagent1);
            addConsoleMessage(`Reagente 1: ${reagent1} adicionado`);

            setTimeout(() => {
                addConsoleMessage('Misturando reagentes...');
                addConsoleMessage(`Temperatura: ${document.getElementById('temperature').value}¬∞C`);
            }, 1000);

            setTimeout(() => {
                if (state.currentReaction.products[0]) {
                    drawMolecule(state.currentReaction.products[0]);
                }
                addConsoleMessage('Produtos formados!');
                addConsoleMessage(`Rea√ß√£o ${state.currentReaction.state.toLowerCase()} completa`);
                state.reactionRunning = false;
            }, 3000);
        }

        function resetReaction() {
            state.reactionRunning = false;
            
            while (moleculeGroup.children.length > 0) {
                moleculeGroup.remove(moleculeGroup.children[0]);
            }
            
            addConsoleMessage('Sistema reiniciado');
        }

        function balanceEquation() {
            if (!state.currentReaction) {
                addConsoleMessage('Selecione uma rea√ß√£o primeiro');
                return;
            }

            addConsoleMessage('Equa√ß√£o j√° est√° balanceada!');
            addConsoleMessage(`Equa√ß√£o: ${state.currentReaction.equation}`);
        }

        function loadExample(type) {
            const examples = {
                'neutralization': ['HCl', 'NaOH'],
                'carbonate': ['HCl', 'CaCO3'],
                'metal-acid': ['Zn', 'HCl'],
                'combustion': ['CH4', 'O2'],
                'synthesis': ['H2', 'O2'],
                'decomposition': ['H2O', 'none']
            };

            const [r1, r2] = examples[type] || ['HCl', 'NaOH'];
            
            document.getElementById('reagent1').value = r1;
            if (r2 !== 'none') {
                document.getElementById('reagent2').value = r2;
            }
            
            updateReaction();
            addConsoleMessage(`Exemplo carregado: ${type}`);
        }

        function addConsoleMessage(message) {
            const consoleElement = document.getElementById('reaction-console');
            if (!consoleElement) return;

            const line = document.createElement('div');
            line.className = 'console-line';
            line.textContent = message;
            
            consoleElement.appendChild(line);
            consoleElement.scrollTop = consoleElement.scrollHeight;

            while (consoleElement.children.length > 10) {
                consoleElement.removeChild(consoleElement.firstChild);
            }
        }
    </script>
</body>
</html>
